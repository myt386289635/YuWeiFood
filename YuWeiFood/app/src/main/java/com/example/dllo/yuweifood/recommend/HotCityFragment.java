package com.example.dllo.yuweifood.recommend;         /*
                                MMMMM
                                  MMMMMM
                                    MMMMMMM
                                     MMMMMMMM     .
                                      MMMMMMMMM
                                      HMMMMMMMMMM
                                       MMMMMMMMMMMM  M
                                       MMMMMMMMMMMMM  M
                                        MMMMMMMMMMMMM  M
                                        MMMMMMMMMMMMM:
                                        oMMMMMMMMMMMMMM
              .MMMMMMMMMMMMMMo           MMMMMMMMMMMMMMM M
        MMMMMMMMMMMMMMMMMMMMMMMMMMM      MMMMMMMMMMMMMMMM
          MMMMMMMMMMMMMMMMMMMMMMMMMMMM.  oMMMMMMMMMMMMMMM.M
            MMMMMMMMMMMMMMMMMMMMMMMMMMMM  MMMMMMMMMMMMMMMM
              MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                oMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                    MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM:                     H
                     MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM                  .         MMM
                      MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM              M       MMMMMM
                       .MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM          M   MMMMMMMMMM
                MM.      MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM       M MMMMMMMMMMMM
                    MM    MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM    .MMMMMMMMMMMMMM
                      MM  MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                        MM MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
               .MMMMMMMMM MMMMMMMMMMMMMMMMMMMMMMMM.MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                  HMMMMMMMMMMMMMMMMMMMMM.MMMMMMMMM.MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                     MMMMMMMMMMMMMMM MMM.oMMMMMMM..MMMMMMMMM:MMMMMMMMMMMMMMMMMMMMMMM
                       MMMMMMMMMMMMMM MM..MMMMMMM...MMMMMMM. MMMMMMMMMMMMMMMMMMMMM
                         MMMMMMMMMMMMMMM ..MMMMMM...MMMMMM ..MMMMMMMMMMMMMMMMMMM
                          MMMMMMM:M.MMM.M.. MMMMM M..MMMMM...MMMMMMMMMMMMMMMMMM  MMM
                            MMMM. .M..MM.M...MMMMMM..MMMMM.. MMMMMMMMMMMMMMMMMMMMMMMMMMMMMM .
                             MMMM..M....M.....:MMM .MMMMMM..MMMMMMM...MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
                              MMM.M.. ...M......MM.MMMMM.......MHM.M  .MMMMMMMMMMMMMMMMMMMMMMMMM
                         MMMMMMMM..MM. . MMM.....MMMMMM.M.....M ..MM..M MMMMMMMMMMMMMMMMMMM
                            .MMMMMHMM. ..MMMM. MMM............o..... . .MMMMMMMMMMMMMMM
                               MMM. M... .........................M..:.MMMMMMMMMMMM
                                 oMMM............ .................M.M.MMMMMMMMM
                                    .....MM........................ . MMMMMM
                                   M.....M.....................o.MM.MMMMMMMM.
                                    M........................M.. ...MMMMMMMMMMMMMo
                                      :....MMM..............MMM..oMMMMMMM
                                       M...MMM.............MMMMMMM
                                          .............:MMMMMMMM
                                          M..... MMM.....M
                                          M M.............
                                          ................M
                                       ooM.................MM  MoMMMMMoooM
                                  MMoooM......................MoooooooH..oMM
                              MHooooMoM.....................MMooooooM........M
                            oooooooMoooM......... o........MoooooooM............
                            Mooooooooooo.......M.........Moooooooo:..............M
                           MooMoooooooooM...M........:Mooooooooooo:..............M
                          M..oooooooooooo .........Mooooooooooooooo..............M
                         M...Mooo:oooooooo.M....ooooooooooooooooooo..M...........M
                          ...oooooMoooooooM..Mooooooooooooo:oooooooM.M...........M.
                         M...ooooooMoo:ooooMoooooooooooooHoooooooooH:M. ...........:
                         M..MoooooooMoooooooooooooooooo:ooooooMooooMoM..............M
                         M..ooooooooooMooooooooooooooHoooooooMooHooooM...............M
                         ...ooooooooooooooooooo:MooooooooooooooMoMoooM................
                        M...oooooooooooooooooooooooooooooooooooooMooMM................M
                        ...MooooooooooooooooooooooooooooooooooooooooMo ................
                        ...MooooooooooooooooooooooooooooooooooooooooM M................M
                       M...ooooooooooooooooooooooooooooooooooooooooM   ................M
                       ...MoooooooooooooooooooooooooooooooooooooooMM   .:...............
                       .....MooooooooooooooooooooooooooooooooooooMoo       .............M
                       M...... ooooooooooooooooooooooooooooooooooooM       M..............M
                       M........MooooMMM MM MM  MMMMMMMMMooooooooM         M...............M
                       .........HM     M:  MM :MMMMMM          M           M...............
                      M..........M     M   MoM M                           M................M
                      M.........:M  MoH  M M M MooooHoooMM.   M             M...............M
                      M..........Moooo MMooM    oooooMooooooooM              M..............H
                      M.........MooooM  Mooo  : ooooooMooooMoooM              M........ . .o.M
                      H..  .....ooooo   oooo  M MooooooooooooooM               M... MMMMMMMMMMM
                      MMMMMMMMMMooooM M oooo  .  ooooooMooooooooM              .MMMMMMMMMMMMMMM
                      MMMMMMMMMMooooH : ooooH    oooooooooooooooo               MMMMMMMMMMMMMMM
                      MMMMMMMMMMoooo    ooooM    Moooooooooooooooo              .MMMMMMMMMMMMMMM
                      MMMMMMMMMMoooo    ooooM    MooooooooooooooooM              MMMMMMMMMMMMMMM
                      MMMMMMMMMMoooM    ooooM     ooooooooooooooooo               MMMMMMMMMMM:M
                      MMMMMMMMMMoooM   MooooM     oooooooooooMoooooo               MH...........
                       . ......Mooo.   MooooM     oooooooooooooooooo              M............M
                      M.M......oooo    MooooM     Moooooooooooooooooo:           .........M.....
                      M.M.....Moooo    MooooM      ooooooooooooooooooM            .M............
                      .......MooooH    MooooM      oooooooooMoooooooooo          M..o...M..o....M
                      .o....HMooooM    MooooH      MooooooooMooooooooooM          .:M...M.......M
                     M..M.....MoooM    :oooo:    .MooooooooHooMoooooooooM         M M... ..oM.M
                      M...M.:.Mooo. MMMMooooo   oooooooooooMoooooooooooooM          ....M. M
                       M:M..o.Moooooooooooooo MooooooooooooooMooooooooooooM          .Mo
                              MooooooooooooooMooooooooooooMoMoooooooooooooo
                              Mooooooooooooooo:ooooooooooooooooooooooooooooo
                              ooooooooooooooooMooooooooooMoooooooooooooooooo
                              ooooooooooooooooMoooooooooooMooooooooooooooooHo
                              ooMooooooooooooooMoooooooooooooooooooooooooooMoM
                             MooMoooooooooooooo.ooooooooooooooooooooooooooo:oM
                             MoooooooooooooooooooooooooooooooooooooooooooooooM
                             MoooMooooooooooooooMooooooooooooooooooooooooooooo.
                             MoooMooooooooooooooMoooooooooooooooooooooooooMooooM
                             MooooooooooooooooooMoooooooooooooooooooooooooMoooooM
                             MooooMoooooooooooooMoooooooooooooooooooooooooMoHooooM
                             ooooooMooooooooooooooooooooooooooooooooooooooooMoMoooM
                            MooooooooooooooooooooMooooooooooooooooooooooooooMoooooH:
                            MoooooooMooooooooooooMoooooooooooooooooooooooooooooHoooM
                            MooooooooMoooooooooooMoooooooooooooooooooooooooMoooMooooM
                            Moooooooooooooooooooooooooooooooooooooooooooooo.oooMooooo
                            MoooooooooooooooooooooooooooooooooooooooooooooMoooooooooM
                             MooooooooooooooooooooMoooooooooooooooooooooooooooooooooM
                              MooooooooooooooooooooMHooooooooooooooooooooMoooo:ooooo
                               MMooooooooooooooooooMoMHoooooooooooooooooooooooMooooo
                                MMoooooooooooooooMMooo MMooooooooooooooooooooooooooM
                                MMMoooooooooooooMooooo  oooooooooooooooooooooMooooo
                                MooMMoooooooooMoooMMoM  ooooHooooooooooooooooMooooM
                                MooooMooooooMooooMoooM  MoooooMoooooooooooooMooooo
                                ooooooMMooooooooMooooM  MoooooooooMooooooooooooooM
                                HooooooMoooooooMooooM    HoooooooHooMooooooooooooo
                                 oooMoooooooooHoooM         MoooooooooMoooooooooM
                                  HooooooooooooHM             MooooooooMMoooooooM
                                   MMMMMMMMMMMMMM                Moooooo:MooooHMM
                                    MMMMMMM: ...                  MMMMMMMMMMMMMM
                                   M............M                  MMMMMMMMM ....
                                   M.MM..........                  M.............M
                                M ..............MM                 M..............
                             MMMMM............MMMM                 ..MMMMMMMM ....M
                           MMMMMMMMMMMMMMMMMMMMMMMM               MMMMMMMMMMMMM...M
                        .MMMMMMMMMMMMMMMMMMMMMMMMMM               MMMMMMMMMMMMMMMMMM
                        MMMMMMMMMMMMMMMMMMMMMMMMM                MMMMMMMMMMMMMMMMMMM
                        :MMMMMMMMMMMMMMMMMMH                     MMMMMMMMMMMMMMMMMMM
                           By ___Guo&N                           MMMMMMMMMMMMMMMMMM
                                                                 MMMMMMMMMMMMMMM
                                                                    HMMMMMM
                  If time could stop at the moment when we first met.                                             
                                                        ------- To you.
        */

import android.os.Bundle;
import android.view.View;
import com.example.dllo.yuweifood.OKHttp.NetTool;
import com.example.dllo.yuweifood.tool.MyGridView;
import com.example.dllo.yuweifood.tool.Values;
import com.example.dllo.yuweifood.OKHttp.onHttpCallBack;
import com.example.dllo.yuweifood.R;
import com.example.dllo.yuweifood.base.BaseFragment;
import java.util.ArrayList;
import java.util.List;

public class HotCityFragment extends BaseFragment{


    private MyGridView myGridView;
    private RecommendBean recommendBean;
    private HotCityAdapter hotCityAdapter;
    private List<ViewPagerBean> beanList;
    @Override
    protected int initLayout() {
        return R.layout.item_recom_gridlayout;
    }

    @Override
    protected void initView(View view) {
        myGridView = (MyGridView) view.findViewById(R.id.item_recom_gridlayout);
        recommendBean = new RecommendBean();
        hotCityAdapter = new HotCityAdapter(context);
    }

    @Override
    protected void initData() {

        final Bundle args = getArguments();
        final String tag = args.getString("tag");

        NetTool.getInstance().startRequest(Values.RecommendFragment_All_Intent, RecommendBean.class, new onHttpCallBack<RecommendBean>() {
            @Override
            public void onSuccess(RecommendBean response) {

                if(tag.equals(response.getData().getList().get(2).getContent().get(0).getTitle())){
                     beanList = new ArrayList<ViewPagerBean>();
                     for (int i = 0; i < response.getData().getList().get(2).getContent().get(0).getContent().size(); i++) {

                         beanList.add(new ViewPagerBean(response.getData().getList().get(2).getContent().get(0).getContent().get(i).getContent().getCover(),response.getData().getList().get(2).getContent().get(0).getContent().get(i).getContent().getName(),response.getData().getList().get(2).getContent().get(0).getContent().get(i).getContent().getSummary()));

                         hotCityAdapter.setMbean(beanList);
                         myGridView.setAdapter(hotCityAdapter);
                     }

                }else if(tag.equals("美食都会")){

                    beanList = new ArrayList<ViewPagerBean>();
                    for (int i = 0; i < response.getData().getList().get(2).getContent().get(1).getContent().size(); i++) {

                        beanList.add(new ViewPagerBean(response.getData().getList().get(2).getContent().get(1).getContent().get(i).getContent().getCover(),response.getData().getList().get(2).getContent().get(1).getContent().get(i).getContent().getName(),response.getData().getList().get(2).getContent().get(1).getContent().get(i).getContent().getSummary()));
                        hotCityAdapter.setMbean(beanList);
                        myGridView.setAdapter(hotCityAdapter);
                    }

                }else if(tag.equals("海鲜盛宴")){

                    beanList = new ArrayList<ViewPagerBean>();
                    for (int i = 0; i < response.getData().getList().get(2).getContent().get(2).getContent().size(); i++) {

                        beanList.add(new ViewPagerBean(response.getData().getList().get(2).getContent().get(2).getContent().get(i).getContent().getCover(),response.getData().getList().get(2).getContent().get(2).getContent().get(i).getContent().getName(),response.getData().getList().get(2).getContent().get(2).getContent().get(i).getContent().getSummary()));
                        hotCityAdapter.setMbean(beanList);
                        myGridView.setAdapter(hotCityAdapter);
                    }

                }else if(tag.equals("小吃天堂")){

                    beanList = new ArrayList<ViewPagerBean>();
                    for (int i = 0; i < response.getData().getList().get(2).getContent().get(3).getContent().size(); i++) {

                        beanList.add(new ViewPagerBean(response.getData().getList().get(2).getContent().get(3).getContent().get(i).getContent().getCover(),response.getData().getList().get(2).getContent().get(3).getContent().get(i).getContent().getName(),response.getData().getList().get(2).getContent().get(3).getContent().get(i).getContent().getSummary()));
                        hotCityAdapter.setMbean(beanList);
                        myGridView.setAdapter(hotCityAdapter);
                    }

                }else if(tag.equals("当季最热")){

                    beanList = new ArrayList<ViewPagerBean>();
                    for (int i = 0; i < response.getData().getList().get(2).getContent().get(4).getContent().size(); i++) {

                        beanList.add(new ViewPagerBean(response.getData().getList().get(2).getContent().get(4).getContent().get(i).getContent().getCover(),response.getData().getList().get(2).getContent().get(4).getContent().get(i).getContent().getName(),response.getData().getList().get(2).getContent().get(4).getContent().get(i).getContent().getSummary()));
                        hotCityAdapter.setMbean(beanList);
                        myGridView.setAdapter(hotCityAdapter);
                    }
                }
            }

            @Override
            public void onError(Throwable e) {

            }
        });

    }
    public static HotCityFragment newInstance(int position,String tag){
        Bundle args = new Bundle();
        args.putString("tag", tag);
        HotCityFragment fragment = new HotCityFragment();
        fragment.setArguments(args);
        return fragment;
    }

}
